# 虚拟主机部署指南

## 问题说明
某些虚拟主机可能无法正确加载YAML配置文件，这通常是由于：
1. CORS（跨域资源共享）策略限制
2. 虚拟主机不支持某些文件类型
3. 文件权限设置问题

## 解决方案

现在游戏支持多种配置加载方式，优先级如下：

### 1. YAML文件（首选）
- `characters.yaml` - 角色配置
- `action_cards.yaml` - 行动卡配置

### 2. JavaScript配置文件（备用方案1）
- `game-config.js` - 包含所有游戏配置的JavaScript文件

### 3. 内嵌配置（最终备用方案）
- 直接内嵌在HTML文件中的配置数据

## 部署步骤

### 选项A：完整部署（推荐）
1. 上传所有文件到虚拟主机：
   ```
   index.html
   characters.yaml
   action_cards.yaml
   game-config.js
   default.png (可选的默认头像)
   ```

### 选项B：简化部署
如果YAML文件无法工作，只需上传：
   ```
   index.html
   game-config.js
   default.png (可选)
   ```

### 选项C：最小部署
如果JavaScript文件也有问题，只需上传：
   ```
   index.html
   ```
游戏将使用内嵌配置运行。

## 调试方法

1. **查看调试信息**：
   在URL后添加 `?debug=1` 可以看到右下角的调试面板

2. **检查浏览器控制台**：
   按F12打开开发者工具，查看控制台中的配置加载信息

3. **配置来源标识**：
   游戏日志会显示使用的配置来源：
   - "YAML文件" - 成功加载YAML配置
   - "JS配置文件" - 使用JavaScript配置
   - "内嵌备用配置" - 使用HTML内嵌配置

## 自定义配置

### 修改角色和卡牌
1. **首选方法**：编辑YAML文件
2. **备用方法**：编辑 `game-config.js` 文件
3. **最后方法**：直接编辑HTML文件中的内嵌配置

### 添加新角色
在相应的配置文件中按照现有格式添加新角色数据。

## 常见问题

**Q: 为什么我的虚拟主机无法加载YAML文件？**
A: 某些虚拟主机的安全策略不允许加载.yaml文件，使用game-config.js作为替代方案。

**Q: 如何知道当前使用的是哪种配置？**
A: 查看游戏开始时的日志信息，或者在URL后添加?debug=1查看调试面板。

**Q: 可以完全移除YAML文件吗？**
A: 可以，游戏设计为向后兼容，即使没有YAML文件也能正常运行。

## 技术说明

游戏使用以下加载顺序：
1. 尝试异步加载YAML文件
2. 如果YAML加载失败，检查window.GameConfig对象
3. 如果外部配置都不可用，使用内嵌的默认配置

这确保了游戏在任何环境下都能正常运行。
